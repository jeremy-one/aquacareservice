---
const stats = [
  { value: 150, suffix: '+', label: 'Piscines construites' },
  { value: 15, suffix: ' ans', label: 'D\'expérience' },
  { value: 98, suffix: '%', label: 'Clients satisfaits' },
  { value: 500, suffix: '+', label: 'Entretiens annuels' },
];
---

<section class="stats">
  <div class="stats__bg">
    <!-- Animated waves -->
    <svg class="stats__wave stats__wave--1" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path fill="rgba(255,255,255,0.1)" d="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
        <animate attributeName="d" dur="10s" repeatCount="indefinite"
          values="M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z;
                  M0,128L48,154.7C96,181,192,235,288,234.7C384,235,480,181,576,181.3C672,181,768,235,864,250.7C960,267,1056,245,1152,229.3C1248,213,1344,203,1392,197.3L1440,192L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z;
                  M0,192L48,197.3C96,203,192,213,288,229.3C384,245,480,267,576,250.7C672,235,768,181,864,181.3C960,181,1056,235,1152,234.7C1248,235,1344,181,1392,154.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"/>
      </path>
    </svg>
    <svg class="stats__wave stats__wave--2" viewBox="0 0 1440 320" preserveAspectRatio="none">
      <path fill="rgba(255,255,255,0.05)" d="M0,64L48,80C96,96,192,128,288,128C384,128,480,96,576,106.7C672,117,768,171,864,181.3C960,192,1056,160,1152,144C1248,128,1344,128,1392,128L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z">
        <animate attributeName="d" dur="8s" repeatCount="indefinite"
          values="M0,64L48,80C96,96,192,128,288,128C384,128,480,96,576,106.7C672,117,768,171,864,181.3C960,192,1056,160,1152,144C1248,128,1344,128,1392,128L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z;
                  M0,128L48,128C96,128,192,128,288,144C384,160,480,192,576,181.3C672,171,768,117,864,106.7C960,96,1056,128,1152,128C1248,128,1344,96,1392,80L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z;
                  M0,64L48,80C96,96,192,128,288,128C384,128,480,96,576,106.7C672,117,768,171,864,181.3C960,192,1056,160,1152,144C1248,128,1344,128,1392,128L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"/>
      </path>
    </svg>
  </div>

  <div class="container stats__container">
    <div class="stats__content" data-animate="fade-right">
      <span class="stats__label">Aquacare en chiffres</span>
      <h2 class="stats__title">
        Une confiance qui se mesure
      </h2>
      <p class="stats__description">
        Depuis plus de 15 ans, nous accompagnons les habitants du Var dans la réalisation
        et l'entretien de leur piscine. Notre expertise se reflète dans les chiffres.
      </p>
    </div>

    <div class="stats__grid">
      {stats.map((stat, index) => (
        <div class="stat-card" data-animate="scale-bounce" data-delay={`${index * 100}`}>
          <div class="stat-card__value">
            <span class="counter" data-counter data-target={stat.value}>0</span>
            <span class="stat-card__suffix">{stat.suffix}</span>
          </div>
          <div class="stat-card__label">{stat.label}</div>
          <div class="stat-card__bar">
            <div class="stat-card__bar-fill"></div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .stats {
    position: relative;
    padding-block: var(--section-padding-lg);
    background: var(--gradient-ocean);
    overflow: hidden;
  }

  /* Background waves */
  .stats__bg {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .stats__wave {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    height: 200px;
  }

  .stats__wave--1 {
    opacity: 0.8;
  }

  .stats__wave--2 {
    height: 150px;
  }

  /* Container */
  .stats__container {
    position: relative;
    z-index: 1;
    display: grid;
    gap: var(--space-12);
    align-items: center;
  }

  @media (min-width: 1024px) {
    .stats__container {
      grid-template-columns: 1fr 1.5fr;
      gap: var(--space-16);
    }
  }

  /* Content */
  .stats__content {
    color: var(--color-white);
  }

  .stats__label {
    display: inline-block;
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
    opacity: 0.8;
    margin-bottom: var(--space-4);
  }

  .stats__title {
    font-size: var(--text-4xl);
    font-weight: var(--font-bold);
    margin-bottom: var(--space-4);
  }

  .stats__description {
    font-size: var(--text-lg);
    line-height: var(--leading-relaxed);
    opacity: 0.9;
  }

  /* Grid */
  .stats__grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-6);
  }

  @media (min-width: 640px) {
    .stats__grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .stats__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1280px) {
    .stats__grid {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  /* Stat card */
  .stat-card {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-2xl);
    padding: var(--space-6);
    text-align: center;
    color: var(--color-white);
    transition: transform var(--duration-normal) var(--ease-out),
                background var(--duration-normal) var(--ease-out);
  }

  .stat-card:hover {
    transform: translateY(-4px);
    background: rgba(255, 255, 255, 0.15);
  }

  .stat-card__value {
    font-family: var(--font-heading);
    font-size: var(--text-4xl);
    font-weight: var(--font-extrabold);
    line-height: 1;
    margin-bottom: var(--space-2);
  }

  .stat-card__suffix {
    font-size: var(--text-2xl);
  }

  .stat-card__label {
    font-size: var(--text-sm);
    opacity: 0.9;
    margin-bottom: var(--space-4);
  }

  .stat-card__bar {
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: var(--radius-full);
    overflow: hidden;
  }

  .stat-card__bar-fill {
    height: 100%;
    width: 0;
    background: var(--color-white);
    border-radius: var(--radius-full);
    transition: width 1.5s var(--ease-out);
  }

  .stat-card.is-visible .stat-card__bar-fill {
    width: 100%;
  }
</style>
