---
const testimonials = [
  {
    id: 1,
    content: "Équipe très professionnelle et à l'écoute. Notre piscine est exactement comme nous l'avions imaginée. Le suivi du chantier était impeccable.",
    author: 'Marie L.',
    location: 'Saint-Tropez',
    rating: 5,
  },
  {
    id: 2,
    content: "Service d'entretien au top ! Depuis 3 ans, notre piscine est toujours impeccable. Réactifs et de bons conseils. Je recommande vivement.",
    author: 'Pierre D.',
    location: 'Toulon',
    rating: 5,
  },
  {
    id: 3,
    content: "Rénovation complète de notre piscine réalisée dans les délais. Travail soigné, équipe sympathique. Le résultat dépasse nos attentes.",
    author: 'Sophie M.',
    location: 'Hyères',
    rating: 5,
  },
];
---

<section class="testimonials section">
  <div class="container">
    <!-- Section header -->
    <div class="testimonials__header">
      <span class="testimonials__label" data-animate="fade-up">Témoignages</span>
      <h2 class="testimonials__title" data-animate="fade-up" data-delay="100">
        Ce que nos clients
        <span class="text-gradient">disent de nous</span>
      </h2>
      <p class="testimonials__subtitle" data-animate="fade-up" data-delay="200">
        La satisfaction de nos clients est notre plus belle récompense.
        Découvrez leurs retours d'expérience.
      </p>
    </div>

    <!-- Testimonials grid -->
    <div class="testimonials__grid">
      {testimonials.map((testimonial, index) => (
        <article class="testimonial-card hover-lift" data-animate="fade-up" data-delay={`${(index + 1) * 150}`}>
          <!-- Quote icon -->
          <div class="testimonial-card__quote" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="currentColor">
              <path d="M4.583 17.321C3.553 16.227 3 15 3 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179zm10 0C13.553 16.227 13 15 13 13.011c0-3.5 2.457-6.637 6.03-8.188l.893 1.378c-3.335 1.804-3.987 4.145-4.247 5.621.537-.278 1.24-.375 1.929-.311 1.804.167 3.226 1.648 3.226 3.489a3.5 3.5 0 01-3.5 3.5c-1.073 0-2.099-.49-2.748-1.179z"/>
            </svg>
          </div>

          <!-- Rating -->
          <div class="testimonial-card__rating" aria-label={`Note: ${testimonial.rating} sur 5`}>
            {[...Array(5)].map((_, i) => (
              <svg viewBox="0 0 20 20" fill={i < testimonial.rating ? 'currentColor' : 'none'} stroke="currentColor" aria-hidden="true">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
              </svg>
            ))}
          </div>

          <!-- Content -->
          <blockquote class="testimonial-card__content">
            <p>"{testimonial.content}"</p>
          </blockquote>

          <!-- Author -->
          <div class="testimonial-card__author">
            <div class="testimonial-card__avatar">
              <span>{testimonial.author.charAt(0)}</span>
            </div>
            <div class="testimonial-card__info">
              <cite class="testimonial-card__name">{testimonial.author}</cite>
              <span class="testimonial-card__location">{testimonial.location}</span>
            </div>
          </div>
        </article>
      ))}
    </div>

    <!-- Trust badges -->
    <div class="testimonials__trust" data-animate="fade-up" data-delay="400">
      <div class="trust-badge">
        <div class="trust-badge__icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            <path d="M9 12l2 2 4-4"/>
          </svg>
        </div>
        <div class="trust-badge__content">
          <span class="trust-badge__title">Garantie décennale</span>
          <span class="trust-badge__text">Tous nos travaux sont assurés</span>
        </div>
      </div>
      <div class="trust-badge">
        <div class="trust-badge__icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="8" r="7"/>
            <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
          </svg>
        </div>
        <div class="trust-badge__content">
          <span class="trust-badge__title">Certifié RGE</span>
          <span class="trust-badge__text">Qualité reconnue</span>
        </div>
      </div>
      <div class="trust-badge">
        <div class="trust-badge__icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
          </svg>
        </div>
        <div class="trust-badge__content">
          <span class="trust-badge__title">+500 clients</span>
          <span class="trust-badge__text">Nous font confiance</span>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .testimonials {
    background: var(--color-white);
  }

  /* Header */
  .testimonials__header {
    text-align: center;
    max-width: 600px;
    margin-inline: auto;
    margin-bottom: var(--space-12);
  }

  .testimonials__label {
    display: inline-block;
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    color: var(--color-primary-600);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wider);
    margin-bottom: var(--space-4);
  }

  .testimonials__title {
    font-size: var(--text-4xl);
    color: var(--color-gray-900);
    margin-bottom: var(--space-4);
  }

  .testimonials__subtitle {
    font-size: var(--text-lg);
    color: var(--color-gray-600);
    line-height: var(--leading-relaxed);
  }

  /* Grid */
  .testimonials__grid {
    display: grid;
    gap: var(--space-6);
    margin-bottom: var(--space-16);
  }

  @media (min-width: 768px) {
    .testimonials__grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .testimonials__grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  /* Testimonial card */
  .testimonial-card {
    position: relative;
    padding: var(--space-8);
    background: var(--color-gray-50);
    border-radius: var(--radius-2xl);
    border: 1px solid var(--color-gray-100);
  }

  .testimonial-card__quote {
    position: absolute;
    top: var(--space-6);
    right: var(--space-6);
    color: var(--color-primary-200);
  }

  .testimonial-card__quote svg {
    width: 32px;
    height: 32px;
  }

  .testimonial-card__rating {
    display: flex;
    gap: 2px;
    margin-bottom: var(--space-4);
    color: var(--color-accent-400);
  }

  .testimonial-card__rating svg {
    width: 18px;
    height: 18px;
  }

  .testimonial-card__content {
    margin-bottom: var(--space-6);
  }

  .testimonial-card__content p {
    font-size: var(--text-base);
    color: var(--color-gray-700);
    line-height: var(--leading-relaxed);
    font-style: italic;
  }

  .testimonial-card__author {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .testimonial-card__avatar {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--gradient-primary);
    border-radius: var(--radius-full);
    color: var(--color-white);
    font-weight: var(--font-bold);
    font-size: var(--text-lg);
  }

  .testimonial-card__info {
    display: flex;
    flex-direction: column;
  }

  .testimonial-card__name {
    font-style: normal;
    font-weight: var(--font-semibold);
    color: var(--color-gray-900);
  }

  .testimonial-card__location {
    font-size: var(--text-sm);
    color: var(--color-gray-500);
  }

  /* Trust badges */
  .testimonials__trust {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: var(--space-8);
    padding-top: var(--space-10);
    border-top: 1px solid var(--color-gray-200);
  }

  .trust-badge {
    display: flex;
    align-items: center;
    gap: var(--space-4);
  }

  .trust-badge__icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--color-primary-50);
    border-radius: var(--radius-xl);
    color: var(--color-primary-600);
  }

  .trust-badge__icon svg {
    width: 24px;
    height: 24px;
  }

  .trust-badge__content {
    display: flex;
    flex-direction: column;
  }

  .trust-badge__title {
    font-weight: var(--font-semibold);
    color: var(--color-gray-900);
  }

  .trust-badge__text {
    font-size: var(--text-sm);
    color: var(--color-gray-500);
  }
</style>
