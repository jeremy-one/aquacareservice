---
const faqs = [
  {
    question: 'Dans quelles villes du Var intervenez-vous pour l\'entretien de piscine ?',
    answer: 'Aquacare Service intervient principalement dans le Golfe de Saint-Tropez\u00a0: Sainte-Maxime, Plan-de-la-Tour, Grimaud, Cogolin, Saint-Tropez, Ramatuelle, Gassin, Cavalaire et La Croix-Valmer. Nous couvrons également Les Issambres, Saint-Aygulf, Roquebrune-sur-Argens, Puget-sur-Argens, Fréjus, Saint-Raphaël et Le Muy.',
  },
  {
    question: 'Que comprend une visite d\'entretien de piscine ?',
    answer: 'Chaque passage inclut\u00a0: l\'analyse et le traitement de l\'eau (pH, chlore, TAC), le nettoyage complet du bassin (écumage, aspiration, brossage), l\'entretien du local technique (préfiltre, filtre), un contrôle préventif des équipements et l\'optimisation de la filtration.',
  },
  {
    question: 'Proposez-vous un service de rattrapage pour piscine verte ?',
    answer: 'Oui, nous intervenons pour rattraper une eau verte ou trouble et remettre votre bassin en état optimal.',
  },
  {
    question: 'Dois-je être présent lors de vos interventions ?',
    answer: 'Non, nous intervenons de manière discrète et autonome. Un compte-rendu vous est transmis après chaque visite via notre application.',
  },
];
---

<section class="faq" id="faq">
  <div class="faq__wave">
    <svg viewBox="0 0 1440 100" preserveAspectRatio="none">
      <path d="M0,50 C360,100 1080,0 1440,50 L1440,100 L0,100 Z"/>
    </svg>
  </div>
  <div class="faq__container container">
    <span class="faq__label">FAQ</span>
    <h2 class="faq__title">Vos questions sur l'<span class="text-water">entretien</span> et la <span class="text-water">maintenance</span> des piscines (83)</h2>

    <div class="faq__list">
      {faqs.map((faq, index) => (
        <details class="faq__item">
          <summary class="faq__question">
            <span>{faq.question}</span>
            <svg class="faq__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path class="faq__icon-drop" d="M12 3C12 3 7 9 7 13a5 5 0 0010 0c0-4-5-10-5-10z" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </summary>
          <div class="faq__answer">
            <p>{faq.answer}</p>
          </div>
        </details>
      ))}
    </div>
  </div>
</section>

<style>
  .faq {
    position: relative;
    padding-block: var(--section-gap);
    background: var(--color-dark);
  }

  .faq__wave {
    position: absolute;
    top: -49px;
    left: 0;
    right: 0;
    height: 50px;
    pointer-events: none;
    z-index: 2;
  }

  .faq__wave svg {
    width: 100%;
    height: 100%;
    display: block;
  }

  .faq__wave path {
    fill: var(--color-dark);
  }

  .faq__container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-8);
    max-width: 800px;
    margin-inline: auto;
  }

  .faq__label {
    font-size: var(--text-sm);
    font-weight: var(--font-semibold);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--color-logo-teal);
  }

  .faq__title {
    font-size: clamp(1.5rem, 4vw, 2.5rem);
    font-weight: var(--font-bold);
    line-height: var(--leading-tight);
    color: var(--color-white);
    text-align: center;
  }

  .faq__list {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .faq__item {
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-xl);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq__item:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .faq__item[open] {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
  }

  .faq__question {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-4);
    padding: var(--space-5) var(--space-6);
    cursor: pointer;
    font-size: var(--text-lg);
    font-weight: var(--font-semibold);
    color: var(--color-white);
    list-style: none;
  }

  .faq__question::-webkit-details-marker {
    display: none;
  }

  .faq__icon {
    width: 22px;
    height: 22px;
    flex-shrink: 0;
    color: var(--color-primary);
    transition: transform 0.3s ease;
  }

  .faq__icon-drop {
    transition: fill 0.3s ease;
    fill: transparent;
  }

  .faq__item[open] .faq__icon {
    transform: scale(1.15);
  }

  .faq__item[open] .faq__icon-drop {
    fill: var(--color-primary);
    stroke: var(--color-primary);
  }

  .faq__answer {
    padding: 0 var(--space-6) var(--space-6);
  }

  .faq__answer p {
    font-size: var(--text-base);
    color: rgba(255, 255, 255, 0.65);
    line-height: var(--leading-relaxed);
  }
</style>
